type: collection.insomnia.rest/5.0
name: ProcStudio With Teams
meta:
  id: wrk_procstudio_teams_20250803
  created: 1725379200000
  modified: 1725379200000
  description: "ProcStudio API with Team Management and Subscription features"
collection:
  - name: ProcStudio With Teams
    meta:
      id: fld_procstudio_teams_root
      created: 1725379200000
      modified: 1725379200000
      sortKey: -1725379200000
      description: "Multi-user team architecture with subscription management"
    children:
      - name: Team Management
        meta:
          id: fld_team_management_20250803
          created: 1725379200001
          modified: 1725379200001
          sortKey: -1725379199999
          description: "Team management endpoints for multi-user architecture"
        children:
          - url: "{{base_url}}/api/v1/teams"
            name: List Teams
            meta:
              id: req_teams_list_20250803
              created: 1725379200002
              modified: 1725379200002
              isPrivate: false
              description: >-
                ### List all teams for the current admin


                Returns teams that the authenticated admin belongs to.


                Response example:

                ``` json

                [
                  {
                    "id": 1,
                    "name": "Development Team",
                    "subdomain": "dev",
                    "status": "active",
                    "owner_admin_id": 1,
                    "main_admin_id": 1,
                    "created_at": "2025-08-03T14:32:07.522Z",
                    "updated_at": "2025-08-03T14:32:07.522Z"
                  }
                ]

                ```
              sortKey: -1725379199998
            method: GET
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1"
            name: Show Team
            meta:
              id: req_teams_show_20250803
              created: 1725379200003
              modified: 1725379200003
              isPrivate: false
              description: >-
                ### Get details of a specific team


                Returns detailed information about a team.
              sortKey: -1725379199997
            method: GET
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams"
            name: Create Team
            meta:
              id: req_teams_create_20250803
              created: 1725379200004
              modified: 1725379200004
              isPrivate: false
              description: >-
                ### Create a new team


                Creates a new team with the authenticated admin as owner.


                Required fields:

                - name: Team name (2-100 characters)

                - subdomain: Unique subdomain (3-50 characters, lowercase,
                alphanumeric and hyphens only)


                Optional fields:

                - description: Team description


                ### Example Request Body

                ``` json

                {
                  "team": {
                    "name": "New Law Firm",
                    "subdomain": "newlawfirm",
                    "description": "A new law firm team"
                  }
                }

                ```
              sortKey: -1725379199996
            method: POST
            body:
              mimeType: application/json
              text: |
                {
                  "team": {
                    "name": "New Law Firm",
                    "subdomain": "newlawfirm",
                    "description": "A new law firm team"
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1"
            name: Update Team
            meta:
              id: req_teams_update_20250803
              created: 1725379200005
              modified: 1725379200005
              isPrivate: false
              description: >-
                ### Update team details


                Only team owners and admins can update team information.


                ### Example Request Body

                ``` json

                {
                  "team": {
                    "name": "Updated Team Name",
                    "description": "Updated description"
                  }
                }

                ```
              sortKey: -1725379199995
            method: PATCH
            body:
              mimeType: application/json
              text: |
                {
                  "team": {
                    "name": "Updated Team Name",
                    "description": "Updated description"
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1"
            name: Delete Team
            meta:
              id: req_teams_delete_20250803
              created: 1725379200006
              modified: 1725379200006
              isPrivate: false
              description: >-
                ### Delete a team


                Only team owners and admins can delete teams.

                This will soft-delete the team using acts_as_paranoid.
              sortKey: -1725379199994
            method: DELETE
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1/add_member"
            name: Add Team Member
            meta:
              id: req_teams_add_member_20250803
              created: 1725379200007
              modified: 1725379200007
              isPrivate: false
              description: >-
                ### Add a member to the team


                Available roles: owner, admin, member

                Only team owners and admins can add members.


                ### Example Request Body

                ``` json

                {
                  "member": {
                    "email": "newmember@example.com",
                    "role": "member"
                  }
                }

                ```
              sortKey: -1725379199993
            method: POST
            body:
              mimeType: application/json
              text: |
                {
                  "member": {
                    "email": "newmember@example.com",
                    "role": "member"
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1/members/2"
            name: Remove Team Member
            meta:
              id: req_teams_remove_member_20250803
              created: 1725379200008
              modified: 1725379200008
              isPrivate: false
              description: >-
                ### Remove a member from the team


                Cannot remove the team owner.

                Only team owners and admins can remove members.
              sortKey: -1725379199992
            method: DELETE
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/teams/1/members/2"
            name: Update Member Role
            meta:
              id: req_teams_update_member_20250803
              created: 1725379200009
              modified: 1725379200009
              isPrivate: false
              description: >-
                ### Update a team member's role


                Available roles: owner, admin, member

                Only team owners and admins can update member roles.


                ### Example Request Body

                ``` json

                {
                  "member": {
                    "role": "admin"
                  }
                }

                ```
              sortKey: -1725379199991
            method: PATCH
            body:
              mimeType: application/json
              text: |
                {
                  "member": {
                    "role": "admin"
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

      - name: Subscription Management
        meta:
          id: fld_subscription_management_20250803
          created: 1725379200100
          modified: 1725379200100
          sortKey: -1725379199900
          description: "Subscription and billing management endpoints"
        children:
          - url: "{{base_url}}/api/v1/subscriptions/1"
            name: Show Subscription
            meta:
              id: req_subscriptions_show_20250803
              created: 1725379200101
              modified: 1725379200101
              isPrivate: false
              description: >-
                ### Get current team subscription details


                Returns subscription information including plan details and
                payment history.


                Response example:

                ``` json

                {
                  "id": 1,
                  "status": "active",
                  "start_date": "2025-08-01",
                  "end_date": "2026-08-01",
                  "monthly_amount": "99.99",
                  "subscription_plan": {
                    "id": 1,
                    "name": "Professional Plan",
                    "price": "99.99",
                    "billing_interval": "monthly",
                    "max_users": 10,
                    "max_offices": 5,
                    "max_cases": 500,
                    "features": {
                      "reports": true,
                      "api_access": true,
                      "advanced_analytics": false
                    }
                  },
                  "payment_transactions": [
                    {
                      "id": 1,
                      "amount": "99.99",
                      "status": "completed",
                      "payment_method": "credit_card",
                      "processed_at": "2025-08-01T10:00:00Z"
                    }
                  ]
                }

                ```
              sortKey: -1725379199899
            method: GET
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/subscriptions"
            name: Create Subscription
            meta:
              id: req_subscriptions_create_20250803
              created: 1725379200102
              modified: 1725379200102
              isPrivate: false
              description: >-
                ### Create a new subscription for the team


                Only team owners and admins can create subscriptions.

                Free plans start as 'active', paid plans start as 'trial'.


                ### Example Request Body

                ``` json

                {
                  "subscription": {
                    "subscription_plan_id": 1
                  }
                }

                ```
              sortKey: -1725379199898
            method: POST
            body:
              mimeType: application/json
              text: |
                {
                  "subscription": {
                    "subscription_plan_id": 1
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/subscriptions/1"
            name: Update Subscription
            meta:
              id: req_subscriptions_update_20250803
              created: 1725379200103
              modified: 1725379200103
              isPrivate: false
              description: >-
                ### Update subscription status


                Typically used to activate subscriptions after payment
                confirmation.


                ### Example Request Body

                ``` json

                {
                  "subscription": {
                    "status": "active"
                  }
                }

                ```
              sortKey: -1725379199897
            method: PATCH
            body:
              mimeType: application/json
              text: |
                {
                  "subscription": {
                    "status": "active"
                  }
                }
            headers:
              - name: Content-Type
                value: application/json
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/subscriptions/1/cancel"
            name: Cancel Subscription
            meta:
              id: req_subscriptions_cancel_20250803
              created: 1725379200104
              modified: 1725379200104
              isPrivate: false
              description: >-
                ### Cancel the current subscription


                Sets status to 'cancelled' and end_date to end of current month.

                Only team owners and admins can cancel subscriptions.
              sortKey: -1725379199896
            method: PATCH
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/subscriptions/plans"
            name: List Subscription Plans
            meta:
              id: req_subscriptions_plans_20250803
              created: 1725379200105
              modified: 1725379200105
              isPrivate: false
              description: >-
                ### List all available subscription plans


                Returns active subscription plans with features and pricing.


                Response example:

                ``` json

                [
                  {
                    "id": 1,
                    "name": "Free Plan",
                    "description": "Basic plan for solo practitioners",
                    "price": "0.00",
                    "currency": "BRL",
                    "billing_interval": "monthly",
                    "max_users": 1,
                    "max_offices": 1,
                    "max_cases": 10,
                    "features": {
                      "reports": false,
                      "api_access": false,
                      "advanced_analytics": false,
                      "trial_days": 7
                    },
                    "is_active": true
                  },
                  {
                    "id": 2,
                    "name": "Professional Plan",
                    "description": "For growing law firms",
                    "price": "99.99",
                    "currency": "BRL",
                    "billing_interval": "monthly",
                    "max_users": 10,
                    "max_offices": 5,
                    "max_cases": 500,
                    "features": {
                      "reports": true,
                      "api_access": true,
                      "advanced_analytics": false,
                      "trial_days": 14
                    },
                    "is_active": true
                  }
                ]

                ```
              sortKey: -1725379199895
            method: GET
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true

          - url: "{{base_url}}/api/v1/subscriptions/usage"
            name: Get Usage Statistics
            meta:
              id: req_subscriptions_usage_20250803
              created: 1725379200106
              modified: 1725379200106
              isPrivate: false
              description: >-
                ### Get current usage statistics for the team


                Shows current usage vs subscription limits.


                Response example:

                ``` json

                {
                  "users": {
                    "used": 3,
                    "limit": 10,
                    "percentage": 30.0
                  },
                  "offices": {
                    "used": 2,
                    "limit": 5,
                    "percentage": 40.0
                  },
                  "cases": {
                    "used": 45,
                    "limit": 500,
                    "percentage": 9.0
                  }
                }

                ```
              sortKey: -1725379199894
            method: GET
            authentication:
              type: bearer
              disabled: false
              token: "{{token}}"
              prefix: ""
            scripts:
              preRequest: ""
              afterResponse: ""
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true