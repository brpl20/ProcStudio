{
  "comment": "Examples for managing user-office associations",
  
  "1_create_office_with_users": {
    "endpoint": "POST /api/v1/offices",
    "description": "Create a new office with users already associated",
    "payload": {
      "office": {
        "name": "New Law Office",
        "cnpj": "11.222.333/0001-81",
        "team_id": 1,
        "society": "company",
        "accounting_type": "simple",
        "user_offices_attributes": [
          {
            "user_id": 1,
            "partnership_type": "socio",
            "partnership_percentage": 60.0,
            "is_administrator": true
          },
          {
            "user_id": 2,
            "partnership_type": "socio",
            "partnership_percentage": 40.0,
            "is_administrator": false
          }
        ]
      }
    }
  },
  
  "2_add_users_to_existing_office": {
    "endpoint": "PATCH /api/v1/offices/:id",
    "description": "Add new users to an existing office",
    "payload": {
      "office": {
        "user_offices_attributes": [
          {
            "user_id": 3,
            "partnership_type": "associado",
            "partnership_percentage": 0.0,
            "entry_date": "2024-01-15"
          }
        ]
      }
    }
  },
  
  "3_update_user_partnership": {
    "endpoint": "PATCH /api/v1/offices/:id",
    "description": "Update an existing user's partnership details",
    "note": "Need to include the user_office ID for updates",
    "payload": {
      "office": {
        "user_offices_attributes": [
          {
            "id": 123,
            "partnership_percentage": 70.0,
            "is_administrator": true
          }
        ]
      }
    }
  },
  
  "4_remove_user_from_office": {
    "endpoint": "PATCH /api/v1/offices/:id",
    "description": "Remove a user from an office",
    "payload": {
      "office": {
        "user_offices_attributes": [
          {
            "id": 123,
            "_destroy": true
          }
        ]
      }
    }
  },
  
  "partnership_types": [
    "socio",
    "associado", 
    "socio_de_servico"
  ],
  
  "notes": {
    "validation_rules": [
      "Only 'socio' can be administrator",
      "Partnership percentages for 'socio' type should sum to 100%",
      "User must be in the same team as the office",
      "Entry date must be after office foundation date"
    ],
    "required_fields": [
      "user_id",
      "partnership_type"
    ],
    "optional_fields": [
      "partnership_percentage (default: 0.0)",
      "is_administrator (default: false)",
      "cna_link",
      "entry_date"
    ]
  }
}